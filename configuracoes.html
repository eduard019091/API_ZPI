<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Thunder - Configurações</title>
    <link rel="stylesheet" href="style.css">
    <link rel="icon" href="thunder.png">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <script src="nav-component.js" defer></script>
</head>
<body>
    <div class="container">
        <nav-bar></nav-bar>

        <main class="main-content">
            <header class="header">
                <div class="user-status">
                    <span>Sistema Online</span>
                    <span class="status-indicator online"></span>
                </div>
            </header>
            <section class="content-body">
                <div class="content-header">
                    <div>
                        <h1>Configurações do Sistema</h1>
                        <p>Configure parâmetros do rate limiting e monitore a saúde do sistema</p>
                    </div>
                    <div class="actions">
                        <button class="btn btn-secondary"><span class="material-icons">refresh</span> Atualizar</button>
                        <button class="btn btn-primary"><span class="material-icons">backup</span> Backup do Banco</button>
                    </div>
                </div>

                <div style="background-color: #fff3cd; border: 1px solid #ffeaa7; border-radius: 8px; padding: 15px; margin-bottom: 30px; display: flex; align-items: center; gap: 10px;">
                    <span class="material-icons" style="color: #856404;">warning</span>
                    <div>
                        <strong style="color: #856404;">Sistema com problemas detectados</strong>
                        <p style="margin: 5px 0 0 0; color: #856404; font-size: 14px;">Algumas tabelas podem estar desatualizadas. Verifique a saúde do sistema.</p>
                    </div>
                </div>

                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin-bottom: 30px;">
                    <div class="data-table">
                        <div style="padding: 15px; background-color: #f7f9fc; border-bottom: 1px solid var(--border-color); display: flex; align-items: center; gap: 10px;">
                            <span class="material-icons" style="color: var(--primary-color);">speed</span>
                            <h3 style="font-size: 16px; color: var(--heading-color); margin: 0;">Configuração de Rate Limiting</h3>
                        </div>
                        <div style="padding: 20px;">
                            <div style="margin-bottom: 15px;">
                                <label style="display: block; margin-bottom: 5px; font-size: 14px; font-weight: 500;">Mensagens por minuto por instância</label>
                                <input type="number" value="2" style="width: 100%; border: 1px solid var(--border-color); border-radius: 4px; padding: 8px; font-size: 14px;">
                                <small style="color: #666; font-size: 12px;">Entre 1 e 20 mensagens por minuto por instância</small>
                            </div>
                            
                            <div style="margin-bottom: 15px;">
                                <label style="display: block; margin-bottom: 5px; font-size: 14px; font-weight: 500;">Intervalo de vida da fila</label>
                                <input type="number" value="10" style="width: 100%; border: 1px solid var(--border-color); border-radius: 4px; padding: 8px; font-size: 14px;">
                                <small style="color: #666; font-size: 12px;">Entre 1 e 60 mensagens processadas por ver</small>
                            </div>

                            <div style="margin-bottom: 15px;">
                                <label style="display: block; margin-bottom: 5px; font-size: 14px; font-weight: 500;">Delay para ficar flagrando</label>
                                <input type="number" value="5" style="width: 100%; border: 1px solid var(--border-color); border-radius: 4px; padding: 8px; font-size: 14px;">
                                <small style="color: #666; font-size: 12px;">Delay 30 segundos a 5 minutos</small>
                            </div>

                            <button class="btn btn-primary" style="width: 100%; margin-top: 15px;">
                                <span class="material-icons">save</span> Salvar Configurações
                            </button>
                        </div>
                    </div>

                    <div class="data-table">
                        <div style="padding: 15px; background-color: #f7f9fc; border-bottom: 1px solid var(--border-color); display: flex; align-items: center; gap: 10px;">
                            <span class="material-icons" style="color: var(--primary-color);">info</span>
                            <h3 style="font-size: 16px; color: var(--heading-color); margin: 0;">Informações do Sistema</h3>
                        </div>
                        <div style="padding: 20px;">
                            <div style="margin-bottom: 15px;">
                                <label style="font-size: 14px; font-weight: 500; color: #666;">Versão do Sistema</label>
                                <p style="margin: 5px 0; font-size: 14px;">2.0 - Rate Limiting + Queue System</p>
                            </div>
                            
                            <div style="margin-bottom: 15px;">
                                <label style="font-size: 14px; font-weight: 500; color: #666;">Capacidade</label>
                                <p style="margin: 5px 0; font-size: 14px;">+ de 50 mensagements/minuto processamentosimultâneo</p>
                                <p style="margin: 5px 0; font-size: 14px;">+ 800 mensagens/hora mensagens/hora</p>
                            </div>

                            <div style="margin-bottom: 15px;">
                                <label style="font-size: 14px; font-weight: 500; color: #666;">Recursos Ativos</label>
                                <div style="display: flex; flex-wrap: wrap; gap: 5px; margin-top: 5px;">
                                    <span style="background: #e3f2fd; color: #1976d2; padding: 2px 8px; border-radius: 12px; font-size: 12px;">queue processing</span>
                                    <span style="background: #e8f5e8; color: #388e3c; padding: 2px 8px; border-radius: 12px; font-size: 12px;">webhook monitoring</span>
                                    <span style="background: #fff3e0; color: #f57c00; padding: 2px 8px; border-radius: 12px; font-size: 12px;">rate delivery</span>
                                    <span style="background: #fce4ec; color: #c2185b; padding: 2px 8px; border-radius: 12px; font-size: 12px;">auto recovery</span>
                                    <span style="background: #f3e5f5; color: #7b1fa2; padding: 2px 8px; border-radius: 12px; font-size: 12px;">smart optimizing</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="data-table" style="margin-bottom: 30px;">
                    <div style="padding: 15px; background-color: #f7f9fc; border-bottom: 1px solid var(--border-color); display: flex; align-items: center; gap: 10px;">
                        <span class="material-icons" style="color: #dc3545;">warning</span>
                        <h3 style="font-size: 16px; color: var(--heading-color); margin: 0;">Limitações do Chatbot e Soluções</h3>
                    </div>
                    <div style="padding: 20px;">
                        <div style="margin-bottom: 20px;">
                            <h4 style="font-size: 14px; color: var(--heading-color); margin-bottom: 10px;">Limitações</h4>
                            <div style="background: #fff3cd; border-left: 4px solid #ffc107; padding: 10px; margin-bottom: 15px;">
                                <span class="material-icons" style="color: #856404; font-size: 18px; vertical-align: middle; margin-right: 8px;">schedule</span>
                                <strong style="color: #856404;">Scheduler múltiplo: 1 minuto</strong>
                                <p style="margin: 5px 0 0 26px; color: #856404; font-size: 14px;">Não é possível processar há mais de 30 segundos automaticamente</p>
                            </div>
                        </div>

                        <div style="margin-bottom: 20px;">
                            <h4 style="font-size: 14px; color: var(--heading-color); margin-bottom: 10px;">Soluções Implementadas</h4>
                            <div style="background: #d4edda; border-left: 4px solid #28a745; padding: 10px; margin-bottom: 10px;">
                                <strong style="color: #155724;">Dados e batches fixos no processamento automático</strong>
                                <p style="margin: 5px 0 0 0; color: #155724; font-size: 14px;">Endpoint</p>
                            </div>
                            <div style="background: #d4edda; border-left: 4px solid #28a745; padding: 10px; margin-bottom: 10px;">
                                <strong style="color: #155724;">Processo via múltiplas vezes em uma chamada</strong>
                                <p style="margin: 5px 0 0 0; color: #155724; font-size: 14px;">Endpoint "POST" queue-process-intensive</p>
                            </div>
                            <div style="background: #d4edda; border-left: 4px solid #28a745; padding: 10px;">
                                <strong style="color: #155724;">Processamento manual sob demanda</strong>
                                <p style="margin: 5px 0 0 0; color: #155724; font-size: 14px;">Endpoint "POST" queue-process</p>
                            </div>
                        </div>

                        <div style="background: #d1ecf1; border: 1px solid #bee5eb; border-radius: 8px; padding: 15px;">
                            <div style="display: flex; align-items: center; gap: 8px; margin-bottom: 10px;">
                                <span class="material-icons" style="color: #0c5460;">lightbulb</span>
                                <strong style="color: #0c5460;">Setup Recomendado</strong>
                            </div>
                            <p style="margin: 0; color: #0c5460; font-size: 14px;">Configure um cron job externo para chamar o endpoint de processamento intensivo a cada 30 segundos.</p>
                            <p style="margin: 5px 0 0 0; color: #0c5460; font-size: 14px;"><strong>Exemplo:</strong> */5 * * * * curl -X POST https://seu.dominio/api/queue-process-intensive</p>
                        </div>
                    </div>
                </div>
            </section>
        </main>
    </div>
    <script src="script.js"></script>
</body>
</html>